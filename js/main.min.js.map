{"version":3,"sources":["main.js"],"names":["link","document","querySelector","menuOpen","classList","remove","addEventListener","contains","add","slider","sliderImages","querySelectorAll","buttonsWrapper","buttonPrev","buttonNext","sliderIndex","length","buttonUp","window","pageYOffset","style","linkNav","i","e","preventDefault","w","hash","this","href","replace","t","getBoundingClientRect","top","start","requestAnimationFrame","step","time","progress","r","Math","max","min","scrollTo","location"],"mappings":"AAEA,cAEA,WAEA,IAAAA,EAAAC,SAAAC,cAAA,qBACAC,EAAAF,SAAAC,cAAA,qBAGAC,EAAAC,UAAAC,OAAA,kBAGAL,EAAAM,iBAAA,QAAA,WACAH,EAAAC,UAAAG,SAAA,qBACAJ,EAAAC,UAAAC,OAAA,oBACAF,EAAAC,UAAAI,IAAA,sBAEAL,EAAAC,UAAAC,OAAA,oBACAF,EAAAC,UAAAI,IAAA,uBAfA,GAuBA,WACA,IAAAC,EAAAR,SAAAC,cAAA,WAEA,GAAAO,EAAA,CACA,IAAAC,EAAAD,EAAAE,iBAAA,kBACAC,EAAAH,EAAAP,cAAA,4BACAW,EAAAJ,EAAAP,cAAA,yBACAY,EAAAL,EAAAP,cAAA,yBAGAU,EAAAR,UAAAC,OAAA,iCAEA,IAAAU,EAAA,EA0BAF,EAAAP,iBAAA,QAxBA,WACA,EAAAS,GAEAL,EADAK,GAAA,GACAX,UAAAI,IAAA,iBACAE,EAAAK,EAAA,GAAAX,UAAAC,OAAA,mBAEAU,EAAAL,EAAAM,OAAA,EACAN,EAAA,GAAAN,UAAAC,OAAA,iBACAK,EAAAA,EAAAM,OAAA,GAAAZ,UAAAI,IAAA,oBAiBAM,EAAAR,iBAAA,QAbA,WACAS,EAAAL,EAAAM,OAAA,GAEAN,EADAK,GAAA,GACAX,UAAAI,IAAA,iBACAE,EAAAK,EAAA,GAAAX,UAAAC,OAAA,mBAEAU,EAAA,EACAL,EAAAA,EAAAM,OAAA,GAAAZ,UAAAC,OAAA,iBACAK,EAAAK,GAAAX,UAAAI,IAAA,qBAlCA,GA8CA,WAEA,IAAAS,EAAAhB,SAAAC,cAAA,cAEAgB,OAAAZ,iBAAA,SAAA,WACA,GAAAY,OAAAC,cACAF,EAAAG,MAAA,kBAEAF,OAAAC,YAAA,KACAF,EAAAG,MAAA,mBAMA,IAFA,IAAAC,EAAApB,SAAAU,iBAAA,eAEAW,EAAA,EAAAA,EAAAD,EAAAL,OAAAM,IACAD,EAAAC,GAAAhB,iBAAA,QAAA,SAAAiB,GACAA,EAAAC,iBACA,IAAAC,EAAAP,OAAAC,YACAO,EAAAC,KAAAC,KAAAC,QAAA,YAAA,MACAC,EAAA7B,SAAAC,cAAAwB,GAAAK,wBAAAC,IACAC,EAAA,KACAC,sBACA,SAAAC,EAAAC,GACA,OAAAH,IAAAA,EAAAG,GACA,IAAAC,EAAAD,EAAAH,EACAK,EAAAR,EAAA,EAAAS,KAAAC,IAAAf,EAAAY,EAZA,GAYAZ,EAAAK,GAAAS,KAAAE,IAAAhB,EAAAY,EAZA,GAYAZ,EAAAK,GACAZ,OAAAwB,SAAA,EAAAJ,GACAA,GAAAb,EAAAK,EACAI,sBAAAC,GAEAQ,SAAAjB,KAAAA,MAGA,GAlCA","file":"main.min.js","sourcesContent":["/** Порядок подключения JS-модулей */\n\n'use strict';\n\n(function () {\n\n  var link = document.querySelector(\".main-nav__button\");\n  var menuOpen = document.querySelector(\".main-nav--closed\");\n\n// Удаление класса, который открывает меню в случае если JS отключен.\n  menuOpen.classList.remove(\"main-nav--nojs\");\n\n// Работа меню\n  link.addEventListener(\"click\", function () {\n    if (menuOpen.classList.contains(\"main-nav--closed\")) {\n      menuOpen.classList.remove(\"main-nav--closed\");\n      menuOpen.classList.add(\"main-nav--opened\");\n    } else {\n      menuOpen.classList.remove(\"main-nav--opened\");\n      menuOpen.classList.add(\"main-nav--closed\");\n    }\n  });\n\n})();\n\n'use strict';\n\n(function () {\n  var slider = document.querySelector(\".slider\");\n\n  if (slider) {\n    var sliderImages = slider.querySelectorAll(\".slider__image\");\n    var buttonsWrapper = slider.querySelector(\".slider__buttons-wrapper\");\n    var buttonPrev = slider.querySelector(\".slider__button--prev\");\n    var buttonNext = slider.querySelector(\".slider__button--next\");\n\n    // При работающем JS появляется блок с кнопками слайдера.\n    buttonsWrapper.classList.remove(\"slider__buttons-wrapper--nojs\");\n\n    var sliderIndex = 0;\n\n    var getPrevPhoto = function() {\n      if (sliderIndex > 0) {\n        sliderIndex -= 1;\n        sliderImages[sliderIndex].classList.add(\"slider__hover\");\n        sliderImages[sliderIndex + 1].classList.remove(\"slider__hover\");\n      } else {\n        sliderIndex = sliderImages.length - 1;\n        sliderImages[0].classList.remove(\"slider__hover\");\n        sliderImages[sliderImages.length - 1].classList.add(\"slider__hover\");\n      }\n    };\n\n    var getNextPhoto = function() {\n      if (sliderIndex < sliderImages.length - 1) {\n        sliderIndex += 1;\n        sliderImages[sliderIndex].classList.add(\"slider__hover\");\n        sliderImages[sliderIndex - 1].classList.remove(\"slider__hover\");\n      } else {\n        sliderIndex = 0;\n        sliderImages[sliderImages.length - 1].classList.remove(\"slider__hover\");\n        sliderImages[sliderIndex].classList.add(\"slider__hover\");\n      }\n    };\n\n    buttonPrev.addEventListener(\"click\", getPrevPhoto);\n    buttonNext.addEventListener(\"click\", getNextPhoto);\n  }\n\n})();\n\n'use strict';\n\n(function () {\n  // Кнопка якорь вверх\n  var buttonUp = document.querySelector(\".button-up\");\n\n  window.addEventListener(\"scroll\", function () {\n    if (window.pageYOffset > 80) {\n      buttonUp.style = \"display: block\";\n    }\n    if (window.pageYOffset < 80) {\n      buttonUp.style = \"display: none\";\n    }\n  });\n\n  var linkNav = document.querySelectorAll('[href^=\"#\"]'), //выбираем все ссылки к якорю на странице\n    V = 0.4;  // скорость, может иметь дробное значение через точку (чем меньше значение - тем больше скорость)\n  for (var i = 0; i < linkNav.length; i++) {\n    linkNav[i].addEventListener('click', function(e) { //по клику на ссылку\n      e.preventDefault(); //отменяем стандартное поведение\n      var w = window.pageYOffset,  // производим прокрутка прокрутка\n        hash = this.href.replace(/[^#]*(.*)/, '$1');  // к id элемента, к которому нужно перейти\n      var t = document.querySelector(hash).getBoundingClientRect().top,  // отступ от окна браузера до id\n        start = null;\n      requestAnimationFrame(step);  // подробнее про функцию анимации [developer.mozilla.org]\n      function step(time) {\n        if (start === null) start = time;\n        var progress = time - start,\n          r = (t < 0 ? Math.max(w - progress/V, w + t) : Math.min(w + progress/V, w + t));\n        window.scrollTo(0,r);\n        if (r != w + t) {\n          requestAnimationFrame(step)\n        } else {\n          location.hash = hash  // URL с хэшем\n        }\n      }\n    }, false);\n  }\n\n})();\n\n"]}